name: Acquire activation file
on:
    workflow_dispatch: {}

jobs:
    activation:
        name: Request manual activation file üîë
        runs-on: ubuntu-latest
        steps:
            # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Unity Editor
            - name: Install Unity Editor
              uses: game-ci/unity-setup@v2
              with:
                  unityVersion: 2022.3.10f1  # –£–∫–∞–∂–∏ —Å–≤–æ—é –≤–µ—Ä—Å–∏—é Unity

            # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ñ–∞–π–ª –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
            - name: Generate activation file
              run: |
                  unity-editor \
                    -batchmode \
                    -nographics \
                    -logFile /dev/stdout \
                    -createManualActivationFile \
                    -quit

            # –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
            - name: Upload activation file
              uses: actions/upload-artifact@v4
              with:
                  name: Unity_Activation_File
                  path: Unity_v*.alf